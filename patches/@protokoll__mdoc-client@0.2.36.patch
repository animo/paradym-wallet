diff --git a/dist/src/mdoc/model/device-response.js b/dist/src/mdoc/model/device-response.js
index 690940a79a8ea60bea82aac530825374577d309e..8c9ff5ed182fc886bb25f83da4bdc5522b9b0a20 100644
--- a/dist/src/mdoc/model/device-response.js
+++ b/dist/src/mdoc/model/device-response.js
@@ -264,6 +264,7 @@ class DeviceResponse {
             jwk: this.devicePrivateKey,
         });
         sign1.signature = signature;
+        sign1.payload = null;
         return { deviceSignature: sign1 };
     }
 }
diff --git a/dist/src/mdoc/model/device-signed-document.js b/dist/src/mdoc/model/device-signed-document.js
index b96a6bf841292c046047ccdd9b256a5cbf8a8562..0f8403d53aacd38723f85bed8c6e51d701b18830 100644
--- a/dist/src/mdoc/model/device-signed-document.js
+++ b/dist/src/mdoc/model/device-signed-document.js
@@ -19,13 +19,6 @@ class DeviceSignedDocument extends issuer_signed_document_js_1.IssuerSignedDocum
         const doc = super.prepare();
         const deviceSignature = this.deviceSigned.deviceAuth.deviceSignature?.getContentForEncoding();
         const deviceMac = this.deviceSigned.deviceAuth.deviceMac?.getContentForEncoding();
-        // detach payload
-        if (deviceMac) {
-            deviceMac[2] = undefined;
-        }
-        if (deviceSignature) {
-            deviceSignature[2] = undefined;
-        }
         //
         doc.set('deviceSigned', {
             ...this.deviceSigned,
@@ -33,10 +26,17 @@ class DeviceSignedDocument extends issuer_signed_document_js_1.IssuerSignedDocum
             // TODO: ERRORS MISSING
             deviceAuth: {
                 ...this.deviceSigned.deviceAuth,
-                deviceSignature,
+                deviceSignature: [...deviceSignature],
                 deviceMac,
             },
         });
+        // detach payload
+        if (deviceMac) {
+            deviceMac[2] = undefined;
+        }
+        if (deviceSignature) {
+            deviceSignature[2] = undefined;
+        }
         return doc;
     }
     /**
diff --git a/dist/src/mdoc/model/pex-limit-disclosure.js b/dist/src/mdoc/model/pex-limit-disclosure.js
index 2be88974a9e98b6699d9e8e76259f6d4f123f8dd..ef8ab814973e1c1c0fc52d9dca3be80bc309c3c6 100644
--- a/dist/src/mdoc/model/pex-limit-disclosure.js
+++ b/dist/src/mdoc/model/pex-limit-disclosure.js
@@ -6,7 +6,6 @@ const limitDisclosureToDeviceRequestNameSpaces = (mdoc, deviceRequestNameSpaces)
     for (const [nameSpace, nameSpaceFields] of Object.entries(deviceRequestNameSpaces)) {
         const nsAttrs = mdoc.issuerSigned.nameSpaces[nameSpace] ?? [];
         const digests = Object.entries(nameSpaceFields)
-            .filter(([_, disclose]) => disclose)
             .map(([elementIdentifier, _]) => {
             const digest = prepareDigest(elementIdentifier, nsAttrs);
             if (!digest) {
